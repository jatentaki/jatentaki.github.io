

<!doctype html>
<html lang="en" class="no-js">
  <head>
    

<meta charset="utf-8">



<!-- begin SEO -->









<title>Web viewer for Gaussian splatting NeRFs - Michał Tyszkiewicz</title>







<meta property="og:locale" content="en-US">
<meta property="og:site_name" content="Michał Tyszkiewicz">
<meta property="og:title" content="Web viewer for Gaussian splatting NeRFs">


  <link rel="canonical" href="http://localhost:4000/portfolio/gaussian-splatting/">
  <meta property="og:url" content="http://localhost:4000/portfolio/gaussian-splatting/">



  <meta property="og:description" content="An interactive renderer for Gaussian splatting NeRFs written in WebGPU.">



  <meta name="twitter:site" content="@jatentaki">
  <meta name="twitter:title" content="Web viewer for Gaussian splatting NeRFs">
  <meta name="twitter:description" content="An interactive renderer for Gaussian splatting NeRFs written in WebGPU.">
  <meta name="twitter:url" content="http://localhost:4000/portfolio/gaussian-splatting/">

  
    <meta name="twitter:card" content="summary">
    
  

  



  

  












  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Person",
      "name" : "Michał Tyszkiewicz",
      "url" : "http://localhost:4000",
      "sameAs" : null
    }
  </script>






<!-- end SEO -->


<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Michał Tyszkiewicz Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.css">

<meta http-equiv="cleartype" content="on">
    

<!-- start custom head snippets -->

<link rel="apple-touch-icon" sizes="57x57" href="http://localhost:4000/images/apple-touch-icon-57x57.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="60x60" href="http://localhost:4000/images/apple-touch-icon-60x60.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="72x72" href="http://localhost:4000/images/apple-touch-icon-72x72.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="76x76" href="http://localhost:4000/images/apple-touch-icon-76x76.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="114x114" href="http://localhost:4000/images/apple-touch-icon-114x114.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="120x120" href="http://localhost:4000/images/apple-touch-icon-120x120.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="144x144" href="http://localhost:4000/images/apple-touch-icon-144x144.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="152x152" href="http://localhost:4000/images/apple-touch-icon-152x152.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="180x180" href="http://localhost:4000/images/apple-touch-icon-180x180.png?v=M44lzPylqQ">
<link rel="icon" type="image/png" href="http://localhost:4000/images/favicon-32x32.png?v=M44lzPylqQ" sizes="32x32">
<link rel="icon" type="image/png" href="http://localhost:4000/images/android-chrome-192x192.png?v=M44lzPylqQ" sizes="192x192">
<link rel="icon" type="image/png" href="http://localhost:4000/images/favicon-96x96.png?v=M44lzPylqQ" sizes="96x96">
<link rel="icon" type="image/png" href="http://localhost:4000/images/favicon-16x16.png?v=M44lzPylqQ" sizes="16x16">
<link rel="manifest" href="http://localhost:4000/images/manifest.json?v=M44lzPylqQ">
<link rel="mask-icon" href="http://localhost:4000/images/safari-pinned-tab.svg?v=M44lzPylqQ" color="#000000">
<link rel="shortcut icon" href="/images/favicon.ico?v=M44lzPylqQ">
<meta name="msapplication-TileColor" content="#000000">
<meta name="msapplication-TileImage" content="http://localhost:4000/images/mstile-144x144.png?v=M44lzPylqQ">
<meta name="msapplication-config" content="http://localhost:4000/images/browserconfig.xml?v=M44lzPylqQ">
<meta name="theme-color" content="#ffffff">
<link rel="stylesheet" href="http://localhost:4000/assets/css/academicons.css"/>

<script type="text/x-mathjax-config"> MathJax.Hub.Config({ TeX: { equationNumbers: { autoNumber: "all" } } }); </script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-MML-AM_CHTML' async></script>

<!-- end custom head snippets -->

  </head>

  <body>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <button><div class="navicon"></div></button>
        <ul class="visible-links">
          <li class="masthead__menu-item masthead__menu-item--lg"><a href="http://localhost:4000/">Michał Tyszkiewicz</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/publications/">Publications</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/portfolio/">Portfolio</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/cv/">CV</a></li>
          
        </ul>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    





<div id="main" role="main">
  


  <div class="sidebar sticky">
  



<div itemscope itemtype="http://schema.org/Person">

  <div class="author__avatar">
    
    	<img src="http://localhost:4000/images/biopic.jpg" class="author__avatar" alt="Michał Tyszkiewicz">
    
  </div>

  <div class="author__content">
    <h3 class="author__name">Michał Tyszkiewicz</h3>
    <p class="author__bio">A PhD candidate in CV @ EPFL</p>
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li><i class="fa fa-fw fa-map-marker" aria-hidden="true"></i> Lausanne, Switzerland</li>
      
      
      
      
      
       
      
        <li><a href="https://twitter.com/jatentaki"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
      
      
      
      
      
      
      
      
      
        <li><a href="https://github.com/jatentaki"><i class="fab fa-fw fa-github" aria-hidden="true"></i> Github</a></li>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
        <li><a href="https://scholar.google.com/citations?user=CZ40rFYAAAAJ"><i class="fas fa-fw fa-graduation-cap"></i> Google Scholar</a></li>
      
      
      
      
      
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Web viewer for Gaussian splatting NeRFs">
    <meta itemprop="description" content="An interactive renderer for Gaussian splatting NeRFs written in WebGPU.">
    
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 class="page__title" itemprop="headline">Web viewer for Gaussian splatting NeRFs
</h1>
          
        
        
        
        
             
        
    
        </header>
      

      <section class="page__content" itemprop="text">
        <p><a href="/assets/gaussianviewer/index.html">Here</a> is a website which allows client-side interactive rendering of NeRFs created with <a href="https://github.com/graphdeco-inria/gaussian-splatting">Gaussian splatting</a>. It utilizes the <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebGPU_API">WebGPU</a> API which is not yet supported in all browers - at time of writing you need a recent version of desktop Chrome/Edge or Firefox Nightly. See the full compatibility table <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebGPU_API#browser_compatibility">here</a>.</p>

<h2 id="usage">Usage</h2>
<p>Training a NeRF with the original Gaussian Splatting (GS) code creates a number of files. Of importance are two: the point cloud in <code class="language-plaintext highlighter-rouge">.ply</code> format and camera metadata in <code class="language-plaintext highlighter-rouge">.json</code> format. Example files are available <a href="https://drive.google.com/drive/folders/1tGsWJwoIi20T9TqPYBk7kJh1jPfh8lQE?usp=drive_link">from my Google Drive</a> or from the <a href="https://repo-sam.inria.fr/fungraph/3d-gaussian-splatting/datasets/pretrained/models.zip">authors of the original paper</a>.</p>

<ol>
  <li>Pick the <code class="language-plaintext highlighter-rouge">.ply</code> via the button in top-right.</li>
  <li>(Optional) Pick the corresponding <code class="language-plaintext highlighter-rouge">cameras.json</code> file with the other button. This is not necessary but the default camera location may be far from any sensible viewpoint.</li>
</ol>

<p>The camera can be controlled in two ways: by picking a predefined camera from the list (requires loading <code class="language-plaintext highlighter-rouge">cameras.json</code>) or with interactive controls - W/S to move up/down image plane, A/D to move left/right, mouse wheel to move perpendicular. Mouse click+drag to rotate the camera (pitch/yaw).</p>

<h2 id="background-and-design">Background and design</h2>
<p>This project was born out of my desire to try how far can I get in a new territory (webdev, 3d graphics, typescript, WebGPU) with the help of ChatGPT. Turns out quite far, but ChatGPT’s role was more of a tutor helping with the APIs, than as a programmer writing the code for me. I initially tried to directly translate the original code to WebGPU compute shaders (hence the choice of WebGPU over WebGL) which worked but was painfully slow without efficient GPU depth sort and pruning. Since writing such a sort algorithm seemed difficult I instead changed the paradigm to express the original algorithm in terms of standard rasterization primitives. In short, the Gaussians are depth-sorted on CPU and then drawn in front-to-back order as flat quads (rectangles composed of two triangles), with the vertex shader responsible for painting the 2d Gaussian on each. With some abuse of the blending options it’s possible to recreate the usual alpha-dependant color accumulation rule of NeRFs with raster graphics.</p>

<h2 id="known-issues">Known issues</h2>
<p>My lack of experience and limited time means a number of bugs and to-dos. I am happy to take PRs with fixes and missing functionality.</p>

<ul>
  <li><strong>Low FPS</strong>. There are two particularly slow steps in the code. My informal benchmarking suggests that 1. is a much bigger factor than 2.
    <ol>
      <li>Sorting the Gaussians by depth on CPU, for each rendered frame. This can be fixed by implementing a GPU sort as a compute shader and outputting the order to an index buffer. The calls to <a href="https://developer.mozilla.org/en-US/docs/Web/API/GPURenderPassEncoder/draw"><code class="language-plaintext highlighter-rouge">draw</code></a> can then be replaced with <a href="https://developer.mozilla.org/en-US/docs/Web/API/GPURenderPassEncoder/drawIndexed"><code class="language-plaintext highlighter-rouge">drawIndexed</code></a>. To avoid CPU-&gt;GPU roundtrips</li>
      <li>Rendering the Gaussians individually (-&gt; #draw calls = #gaussians). This seems unavoidable without loss of quality but tradeoffs may be possible. One choice is to replace <code class="language-plaintext highlighter-rouge">draw</code> with <code class="language-plaintext highlighter-rouge">drawIndexed</code> (as above, regardless where the index buffer is computed) and draw the quads in groups of N, instead of one-by-one.</li>
    </ol>
  </li>
  <li><strong>Error converting 3rd degree spherical harmonics to color</strong>. There is an issue converting 3rd degree spherical harmonics to RGB, resulting in strongly negative values. Preliminary debugging suggests this may be an issue with memory layout or WebGPU implementation in Chrome, as the code tested in separation works as intended.</li>
  <li><strong>Drifting orbit controls</strong>. The orbit controls for interactive naviation are not very well thought-out and may cause drift over time, in particular of the “upwards” direction. The easy workaround is to just reset to a predefined camera from <code class="language-plaintext highlighter-rouge">cameras.json</code>.</li>
  <li><strong>Possibly lacking error handling</strong>. With my poor TypeScript background I have likely missed multiple conditions where exceptions may be thrown, resulting in quiet entries in the javascript console rather than clear pop-ups for the user.</li>
</ul>

        
      </section>

      <footer class="page__meta">
        
        




      </footer>

      

<section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=http://localhost:4000/portfolio/gaussian-splatting/" class="btn btn--twitter" title="Share on Twitter"><i class="fab fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/portfolio/gaussian-splatting/" class="btn btn--facebook" title="Share on Facebook"><i class="fab fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/portfolio/gaussian-splatting/" class="btn btn--linkedin" title="Share on LinkedIn"><i class="fab fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>

      


    </div>

    
  </article>

  
  
</div>


    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->
<a href="/sitemap/">Sitemap</a>
<!-- end custom footer snippets -->

        

<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
      <li><a href="https://twitter.com/jatentaki"><i class="fab fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
    
    
    
      <li><a href="http://github.com/jatentaki"><i class="fab fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    <li><a href="http://localhost:4000/feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2023 Michał Tyszkiewicz. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://github.com/academicpages/academicpages.github.io">AcademicPages</a>, a fork of <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    <script src="http://localhost:4000/assets/js/main.min.js"></script>




  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', '', 'auto');
  ga('send', 'pageview');
</script>






  </body>
</html>

